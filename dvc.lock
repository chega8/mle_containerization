schema: '2.0'
stages:
  prepare:
    cmd: ./src/scripts/prepare.sh
    deps:
    - path: data/train_sample.csv
      md5: 728ac1ea5b92660fa0d823cf6f5c742d
      size: 233124604
    - path: src/prepare.py
      md5: 1fb85a7d0afd3d92ff371a8393e6a7aa
      size: 2051
    params:
      params.yaml:
        prepare.seed: 20170428
        prepare.split: 0.2
    outs:
    - path: data/prepared
      md5: 05141f28b08e85e718799571513f2804.dir
      size: 183979748
      nfiles: 2
  featurize:
    cmd: ./src/scripts/featurize.sh
    deps:
    - path: data/prepared
      md5: 05141f28b08e85e718799571513f2804.dir
      size: 183979748
      nfiles: 2
    - path: src/featurize.py
      md5: 4fdfc00258a4de8b10d3a89248d615ad
      size: 2770
    params:
      params.yaml:
        featurize.max_features: 200
    outs:
    - path: data/features
      md5: 9ea9041c576f45709bf6387769333d96.dir
      size: 80400636
      nfiles: 4
  train:
    cmd: ./src/scripts/train.sh
    deps:
    - path: data/features
      md5: 9ea9041c576f45709bf6387769333d96.dir
      size: 80400636
      nfiles: 4
    - path: src/train.py
      md5: ec808d6d3f58a0f0829ca0ec51f110b4
      size: 1938
    params:
      params.yaml:
        train.l1: 0.01
        train.l2: 0.01
        train.seed: 20170428
    outs:
    - path: data/models
      md5: f9eb73670bc01f036965ca977b498696.dir
      size: 2441
      nfiles: 1
